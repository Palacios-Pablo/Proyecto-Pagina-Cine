<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Películas</title>
        <!-- Swiper -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"></link>
        <!-- Estilos CSS -->
        <link rel="stylesheet" href="../css/estilos.css"></link>
        <!-- Iconos -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"></link>
        <!-- JS -->
        <script src="./archivos/main.js" type="text/javascript"></script>

    </h:head>

    <h:body>
        <!-- Navbar -->
        <header class="header2">
            <a href="/WebProyecto_2023/index.xhtml" class="logo">
                <i class='bx bxs-movie'></i>CineMax
            </a>
            <div class="bx bx-menu" id="menu-icon"></div>
            <!-- Menu -->
            <ul class="navbar">
                <li><a href="/WebProyecto_2023/index.xhtml">Inicio</a></li>
                <li><a href="/WebProyecto_2023/Paginas/clasificacion.xhtml">Clasificación</a></li>
                <li><a href="/WebProyecto_2023/Paginas/clientes.xhtml">Clientes</a></li>
                <li><a href="/WebProyecto_2023/Paginas/entradas.xhtml">Entradas</a></li>
                <li><a href="/WebProyecto_2023/Paginas/empleados.xhtml">Empleados</a></li>
                <li><a href="/WebProyecto_2023/Paginas/generos.xhtml">Géneros</a></li>
                <li><a href="/WebProyecto_2023/Paginas/horarios.xhtml">Horarios</a></li>
                <li><a href="/WebProyecto_2023/Paginas/peliculas.xhtml" class="home-active">Películas</a></li>
                <li><a href="/WebProyecto_2023/Paginas/salas.xhtml">Salas</a></li>
                <li><a href="#" class="btn">Salir</a></li>
            </ul>
        </header>
        <br></br>
        <br></br>
        <br></br>
        <br></br>
        <div class="contenedor">
            <h1 class="titulo">PELÍCULAS</h1>

            <!-- Aquí creamos un formulario para ingresar información de películas -->
            <h:form>
                <p:panelGrid columns="2">
                    <h:outputText value="Título: " />
                    <p:inputText value="#{beanPelicula.titulo}" />
                    <h:outputText value="Director: " />
                    <p:inputText value="#{beanPelicula.director}" />
                    <h:outputText value="Año de Lanzamiento: " />
                    <p:calendar value="#{beanPelicula.anioLanzamiento}" mode="popup" pattern="yyyy" />
                    <h:outputText value="Clasificación: " />
                    <p:selectOneMenu value="#{beanPelicula.idClasificacion}">
                        <f:selectItems value="#{beanPelicula.listaClasificacion}" />
                    </p:selectOneMenu>
                    <h:outputText value="Género: " />
                    <p:selectOneMenu value="#{beanPelicula.idGenero}">
                        <f:selectItems value="#{beanPelicula.listaGenero}" />
                    </p:selectOneMenu>
                </p:panelGrid>
                <p:commandButton value="Agregar" action="#{beanPelicula.insertar}" />

                <!-- Aquí creamos una tabla para mostrar las películas -->
                <p:dataTable value="#{beanPelicula.listaPelicula}" var="pelicula" emptyMessage="No se encontraron películas">
                    <p:column headerText="Título">
                        <h:outputText value="#{pelicula.titulo}" />
                    </p:column>
                    <p:column headerText="Director">
                        <h:outputText value="#{pelicula.director}" />
                    </p:column>
                    <p:column headerText="Año de Lanzamiento">
                        <h:outputText value="#{pelicula.anioLanzamiento}" />
                    </p:column>
                    <p:column headerText="Clasificación">
                        <h:outputText value="#{pelicula.clasificacion.clasificacion}" />
                    </p:column>
                    <p:column headerText="Género">
                        <h:outputText value="#{pelicula.genero.genero}" />
                    </p:column>
                    <p:column>
                        <p:commandButton value="Editar" action="#{beanPelicula.modificar}" />
                    </p:column>
                    <p:column>
                        <p:commandButton value="Eliminar" action="#{beanPelicula.seleccionarDatos(pelicula)}" />
                    </p:column>
                </p:dataTable>
            </h:form>
        </div>
    </h:body>
</html>